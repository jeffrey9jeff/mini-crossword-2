*{box-sizing:border-box}
:root{
  --ink:#111; --muted:#6b7280; --grid:#e5e7eb; --accent:#2563eb;
  --good:#10b981; --bad:#ef4444; --soft:#f3f4f6;
}
html,body{height:100%}
body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Inter,Roboto,Arial,sans-serif;color:var(--ink)}
.app-header{display:flex;justify-content:space-between;align-items:center;padding:14px 16px;border-bottom:1px solid var(--grid)}
h1{margin:0;font-size:22px}
.hud{display:flex;gap:10px;align-items:center;flex-wrap:wrap}
#timer{font-variant-numeric:tabular-nums;font-weight:800;min-width:56px;text-align:right}
.controls button{appearance:none;border:1px solid var(--grid);background:#fff;border-radius:10px;padding:8px 12px;font-weight:700;cursor:pointer}
.controls .ghost{background:var(--soft)}
.controls .primary{background:#111;color:#fff;border-color:#111}
.subhud{display:flex;gap:10px;align-items:center;padding:8px 16px;color:var(--muted);border-bottom:1px solid var(--grid)}
.layout{display:grid;grid-template-columns:1fr min(480px,45%);gap:14px;padding:14px 16px}
.grid-wrap{display:flex;gap:10px;align-items:flex-start}
.grid{
  --size:64px;
  display:grid;gap:2px;background:var(--grid);padding:2px;border-radius:12px;touch-action:manipulation;
}
.cell{
  width:var(--size);height:var(--size);background:#fff;border-radius:8px;overflow:hidden;position:relative;
  display:grid;place-items:center;border:1px solid var(--grid);
}
.cell.block{background:#111;border-color:#111}
.cell.block .num{color:#fff;opacity:.6}
.cell input{
  font-size:20px; font-weight:800; text-transform:uppercase; letter-spacing:0.5px;
  width:100%;height:100%;border:0;margin:0;padding:0;text-align:center;background:transparent;
  -webkit-appearance:none;appearance:none;outline:none;color:var(--ink);caret-color:var(--accent);
}
.cell.highlight{outline:2px solid var(--accent);outline-offset:-2px;background:#eef2ff}
.cell.bad{background:#fee2e2}
.num{position:absolute;top:6px;left:8px;font-size:11px;color:var(--muted);font-weight:700}

.legend{display:grid;gap:6px;font-size:13px;color:var(--muted)}
.legend-row{display:grid;grid-template-columns:16px auto;gap:8px;align-items:center}
.swatch{width:16px;height:16px;border-radius:4px;border:1px solid var(--grid)}
.swatch.highlight{background:#eef2ff;border-color:#c7d2fe}
.swatch.checkbad{background:#fee2e2;border-color:#fecaca}

.clues{display:grid;grid-template-columns:1fr 1fr;gap:10px}
.clue-col h2{margin:0 0 6px 0;font-size:16px}
.clue-list{list-style:none;margin:0;padding:0;display:grid;gap:6px}
.clue-list li{padding:8px 10px;border:1px solid var(--grid);border-radius:10px;background:#fff}
.clue-list li.active{outline:2px solid var(--accent);outline-offset:0;background:#eef2ff}

.winner{display:flex;gap:8px;padding:10px 16px}
.winner input{border:1px solid var(--grid);border-radius:8px;padding:8px 10px;font-size:16px}
.hide{display:none}
.lb-table table{width:100%;border-collapse:collapse}
.lb-table th,.lb-table td{padding:6px 8px;border-bottom:1px solid var(--grid);text-align:left;font-variant-numeric:tabular-nums}
.lb-table th{color:var(--muted)}
.toast{position:fixed;left:50%;bottom:20px;transform:translateX(-50%);background:#111;color:#fff;padding:10px 14px;border-radius:999px;opacity:0;pointer-events:none;transition:opacity .2s;font-weight:700}
.toast.show{opacity:1}

@media (max-width:900px){
  .layout{grid-template-columns:1fr}
  .grid{--size:min(64px, calc((100vw - 48px) / 6))}
}
